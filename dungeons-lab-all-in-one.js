(()=>{"use strict";var e={518:(e,t,i)=>{i.d(t,{A:()=>l});var n=i(601),o=i.n(n),a=i(314),s=i.n(a)()(o());s.push([e.id,".faoWelcomeDialog{display:flex;align-items:center;justify-content:center}.faoWelcomeDialog .faoWelcomeLogo{border:none;width:300px;flex:1}.faoWelcomeDialog .faoWelcomeTextContainer{flex:1;max-height:310px;overflow-y:auto;padding:40px 20px 40px 0}.faoWelcomeDialog .faoWelcomeTextContainer .faoWelcomeText{display:flex;flex-direction:column;justify-content:center}",""]);const l=s},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i="",n=void 0!==t[5];return t[4]&&(i+="@supports (".concat(t[4],") {")),t[2]&&(i+="@media ".concat(t[2]," {")),n&&(i+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),i+=e(t),n&&(i+="}"),t[2]&&(i+="}"),t[4]&&(i+="}"),i})).join("")},t.i=function(e,i,n,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(n)for(var l=0;l<this.length;l++){var r=this[l][0];null!=r&&(s[r]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);n&&s[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),i&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=i):d[2]=i),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),t.push(d))}},t}},601:e=>{e.exports=function(e){return e[1]}},515:(e,t,i)=>{i.r(t),i.d(t,{default:()=>v});var n=i(72),o=i.n(n),a=i(825),s=i.n(a),l=i(659),r=i.n(l),c=i(56),d=i.n(c),u=i(540),g=i.n(u),h=i(113),m=i.n(h),p=i(518),f={};f.styleTagTransform=m(),f.setAttributes=d(),f.insert=r().bind(null,"head"),f.domAPI=s(),f.insertStyleElement=g(),o()(p.A,f);const v=p.A&&p.A.locals?p.A.locals:void 0},72:e=>{var t=[];function i(e){for(var i=-1,n=0;n<t.length;n++)if(t[n].identifier===e){i=n;break}return i}function n(e,n){for(var a={},s=[],l=0;l<e.length;l++){var r=e[l],c=n.base?r[0]+n.base:r[0],d=a[c]||0,u="".concat(c," ").concat(d);a[c]=d+1;var g=i(u),h={css:r[1],media:r[2],sourceMap:r[3],supports:r[4],layer:r[5]};if(-1!==g)t[g].references++,t[g].updater(h);else{var m=o(h,n);n.byIndex=l,t.splice(l,0,{identifier:u,updater:m,references:1})}s.push(u)}return s}function o(e,t){var i=t.domAPI(t);return i.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;i.update(e=t)}else i.remove()}}e.exports=function(e,o){var a=n(e=e||[],o=o||{});return function(e){e=e||[];for(var s=0;s<a.length;s++){var l=i(a[s]);t[l].references--}for(var r=n(e,o),c=0;c<a.length;c++){var d=i(a[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}a=r}}},659:e=>{var t={};e.exports=function(e,i){var n=function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(i)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,i)=>{e.exports=function(e){var t=i.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(i){!function(e,t,i){var n="";i.supports&&(n+="@supports (".concat(i.supports,") {")),i.media&&(n+="@media ".concat(i.media," {"));var o=void 0!==i.layer;o&&(n+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),n+=i.css,o&&(n+="}"),i.media&&(n+="}"),i.supports&&(n+="}");var a=i.sourceMap;a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,i)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},192:function(e,t,i){var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,a){function s(e){try{r(n.next(e))}catch(e){a(e)}}function l(e){try{r(n.throw(e))}catch(e){a(e)}}function r(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,l)}r((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsMenu=void 0;const o=i(478),a=i(894),s=i(771),l=i(295);t.SettingsMenu=class{registerAllSettings(){this.registerAlwaysShowWelcome(),this.addDefaultSettingsButton()}registerAlwaysShowWelcome(){(0,a.log)("Registering alwaysShowWelcomeDialog setting..."),game.settings.register(o.MODULE_CONFIG.id,"alwaysShowWelcomeDialog",{name:`${o.MODULE_CONFIG.id}.SettingsMenu.AlwaysShowWelcomeDialog.Name`,hint:`${o.MODULE_CONFIG.id}.SettingsMenu.AlwaysShowWelcomeDialog.Hint`,scope:"client",config:!0,type:Boolean,default:!0})}addDefaultSettingsButton(){Hooks.on("renderSettingsConfig",((e,t)=>{(0,a.log)("Adding default settings button..."),t[0].querySelectorAll(".tab.category").forEach((e=>{const t=e.getAttribute("data-tab");if(t!==o.MODULE_CONFIG.id)return;(0,a.log)(t);const i=document.createElement("button");i.textContent=(0,s.getLocalizedString)("SettingsMenu.UpdatePluginSettings.Button"),i.onclick=e=>n(this,void 0,void 0,(function*(){try{e.preventDefault(),yield(0,o.updateMidiQOLConfig)(l.defaultSettings.midiQOLSettings)}catch(e){(0,a.warn)(`Error applying default settings: ${e}`)}})),e.append((0,s.createSettingsButton)((0,s.getLocalizedString)("SettingsMenu.UpdatePluginSettings.Name"),(0,s.getLocalizedString)("SettingsMenu.UpdatePluginSettings.Hint"),i))}))}))}}},126:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WelcomeDialog=void 0;const o=i(894),a=i(771),s=i(570),l=n(i(842));i(515);const r=i(478),c=i(295);t.WelcomeDialog=class{constructor(){const e=Handlebars.compile(l.default)({logo:(0,a.getImageAssetPath)("logo",s.SupportedImageAssetTypes.PNG)});this.dialog=new Dialog({title:(0,a.getLocalizedString)("WelcomeDialog.WindowTitle"),content:e,buttons:{one:{icon:'<i class="fas fa-dice-d20"></i>',label:(0,a.getLocalizedString)("WelcomeDialog.ApplySettings"),callback:()=>{(0,r.updateMidiQOLConfig)(c.defaultSettings.midiQOLSettings).then(o.log).catch(o.warn)}},two:{icon:'<i class="fab fa-patreon"></i>',label:(0,a.getLocalizedString)("WelcomeDialog.Patreon"),callback:()=>window.open("https://patreon.com/DungeonsLAB?utm_source=waitlist")}},default:"two"})}render(){this.dialog.render(!0,{height:400,width:700})}}},295:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultSettings=void 0;const n=new(i(468).MidiQOLConfigSettings);t.defaultSettings={alwaysShowWelcomeDialog:!0,midiQOLSettings:n}},570:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.SupportedImageAssetTypes=void 0,function(e){e.PNG="png",e.JPG="jpg",e.JPEG="jpeg",e.GIF="gif",e.SVG="svg",e.WEBP="webp",e.ICO="ico",e.BMP="bmp",e.TIFF="tiff",e.TIF="tif"}(i||(t.SupportedImageAssetTypes=i={}))},468:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MidiQOLConfigSettings=void 0;const i={"DND5E.Advantage":"altKey","DND5E.Disadvantage":"ctrlKey","DND5E.Critical":"altKey","DND5E.Versatile":"shiftKey"};t.MidiQOLConfigSettings=class{constructor(){this.addDead="overlay",this.addFakeDice=!1,this.addWounded=0,this.addWoundedStyle="none",this.midiWoundedCondition="none",this.midiDeadCondition="dead",this.midiUnconsciousCondition="unconscious",this.allowUseMacro=!1,this.allowActorUseMacro=!1,this.attackPerTarget=!1,this.autoApplyDamage="none",this.playerDamageCard="none",this.playerCardDamageDifferent=!1,this.hidePlayerDamageCard=!0,this.autoCEEffects="none",this.autoCheckHit="none",this.autoCheckSaves="none",this.autoFastForward="off",this.autoRemoveSummonedCreature=!1,this.autoRollAttack=!1,this.autoRollDamage="none",this.autoCompleteWorkflow=!1,this.saveDROrder="SaveDRdr",this.autoTarget="none",this.averageDamage="none",this.checkSaveText=!1,this.collapsibleTargets=!0,this.concentrationAutomation=!1,this.consumeResource="none",this.convenientEffectsReaction="Reaction",this.criticalSound="",this.customSoundsPlaylist="none",this.damageImmunities="none",this.damageImmunityMultiplier=0,this.damageResistanceMultiplier=.5,this.damageVulnerabilityMultiplier=2,this.defaultSaveMult=.5,this.diceSound="",this.displayHitResultNumeric=!0,this.displaySaveAdvantage=!0,this.displaySaveDC=!0,this.doConcentrationCheck="chat",this.griddedGridless=!1,this.gridlessFudge=0,this.doReactions="none",this.effectActivation=!1,this.enableddbGL=!1,this.enforceReactions="none",this.enforceBonusActions="none",this.enforceSingleWeaponTarget=!1,this.fixStickyKeys=!0,this.fumbleSound="",this.ghostRolls=!1,this.gmAutoAttack=!1,this.gmAutoDamage="none",this.gmAutoFastForwardAttack=!1,this.gmAutoFastForwardDamage=!1,this.gmConsumeResource="none",this.gmDoReactions="all",this.gmHide3dDice=!1,this.gmLateTargeting="none",this.gmRemoveButtons="all",this.hideRollDetails="none",this.ignoreSpellReactionRestriction=!1,this.itemRollStartWorkflow=!1,this.itemTypeList=void 0,this.itemUseSound="",this.keepRollStats=!1,this.keyMapping=i,this.mergeCard=!1,this.mergeCardCondensed=!1,this.mergeCardMulti=!1,this.mergeCardMultiDamage=!1,this.midiFieldsTab=!0,this.midiPropertiesTabRole=CONST.USER_ROLES.PLAYER,this.confirmAttackDamage="none",this.highlightSuccess=!1,this.optionalRulesEnabled=!1,this.paranoidGM=!1,this.playerRollSaves="mtb",this.playerSaveTimeout=0,this.playerStatsOnly=!1,this.potionUseSound="",this.promptDamageRoll=!1,this.quickSettings=!0,this.rangeTarget="none",this.useTemplateRangedTargeting=!1,this.reactionTimeout=10,this.recordAOO="none",this.removeButtons="all",this.removeConcentration=!0,this.removeConcentrationEffects="effects",this.requireMagical="off",this.requiresTargets="none",this.rollNPCLinkedSaves="auto",this.rollNPCSaves="auto",this.rollOtherDamage="none",this.rollOtherSpellDamage="none",this.rollChecksBlind=[],this.rollSavesBlind=[],this.rollSkillsBlind=[],this.saveStatsEvery=20,this.showDSN=!0,this.showFastForward=!1,this.showItemDetails="all",this.showReactionAttackRoll="all",this.showReactionChatMessage=!1,this.singleConcentrationRoll=!0,this.skillAbilityCheckAdvantage=!0,this.spellHitSound="",this.spellUseSound="",this.spellUseSoundRanged="",this.syrinToken=void 0,this.tempHPDamageConcentrationCheck=!1,this.concentrationIncapacitatedConditionCheck=!1,this.toggleOptionalRules=!1,this.useCustomSounds=!0,this.usePlayerPortrait=!1,this.useTokenNames=!1,this.undoChatColor="Delete",this.undoWorkflow=!1,this.v3DamageApplication=!1,this.weaponHitSound="",this.weaponUseSound="",this.weaponUseSoundRanged="",this.rollAlternate="off",this.optionalRules={invisAdvantage:"RAW",hiddenAdvantage:"none",invisVision:!1,checkRange:"longFail",wallsBlockRange:"simbuls-cover-calculator",diplsayBonusRolls:!0,coverCalculation:"simbuls-cover-calculator",nearbyFoe:5,nearbyAllyRanged:0,incapacitated:!0,removeHiddenInvis:!0,maxDRValue:!1,DRAllPerDamageDetail:!0,distanceIncludesHeight:!1,criticalSaves:!1,activeDefence:!1,activeDefenceShow:"selfroll",challengModeArmor:"none",checkFlanking:"off",optionalCritRule:-1,criticalNat20:!1,actionSpecialDurationImmediate:!1,vitalityResource:"",autoRerollInitiative:!1}}}},478:function(e,t,i){var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,a){function s(e){try{r(n.next(e))}catch(e){a(e)}}function l(e){try{r(n.throw(e))}catch(e){a(e)}}function r(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,l)}r((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.updateMidiQOLConfig=t.MODULE_CONFIG=void 0;const a=o(i(606)),s=i(894),l=i(771);t.MODULE_CONFIG={id:a.default.id,title:a.default.title,authors:a.default.authors.map((e=>e.name)),version:a.default.version},t.updateMidiQOLConfig=e=>n(void 0,void 0,void 0,(function*(){return game.settings.get("midi-qol","ConfigSettings"),yield new Promise(((t,i)=>n(void 0,void 0,void 0,(function*(){var n,o;try{(0,s.log)("Updating midi-qol settings..."),yield game.settings.set("midi-qol","ConfigSettings",e),null===(n=ui.notifications)||void 0===n||n.info((0,l.getLocalizedString)("Notifications.UpdatePluginSettings.Success")),t("Settings updated successfully")}catch(e){null===(o=ui.notifications)||void 0===o||o.warn((0,l.getLocalizedString)("UpdatePluginSettings.Error")),i(`Error updating midi-qol settings: ${e}`)}}))))}))},894:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.error=t.warn=t.log=void 0;const n=i(478);t.log=e=>{console.log(`[${n.MODULE_CONFIG.title}] | ${e}`)},t.warn=e=>{console.warn(`[${n.MODULE_CONFIG.title}] | ${e}`)},t.error=e=>{console.error(`[${n.MODULE_CONFIG.title}] | ${e}`)}},771:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalizedString=t.createSettingsButton=t.getImageAssetPath=void 0;const n=i(478);t.getImageAssetPath=(e,t)=>`./modules/${n.MODULE_CONFIG.id}/assets/img/${e}.${t}`,t.createSettingsButton=(e,t,i)=>{const n=document.createElement("div");n.classList.add("form-group"),n.classList.add("submenu"),n.append(i);const o=document.createElement("label");o.textContent=e,n.prepend(o),n.append(i);const a=document.createElement("p");return a.classList.add("notes"),a.textContent=t,n.append(a),n},t.getLocalizedString=e=>game.i18n.localize(`${n.MODULE_CONFIG.id}.${e}`)},842:e=>{e.exports='<div class="faoWelcomeDialog">\r\n    <a href="https://patreon.com/DungeonsLAB?utm_source=waitlist">\r\n        <img class=\'faoWelcomeLogo\' src=\'{{logo}}\'  alt="err"/>\r\n    </a>\r\n    <div class=\'faoWelcomeTextContainer\'>\r\n        <div class=\'faoWelcomeText\'>\r\n            <h1>{{localize "dungeons-lab-all-in-one.WelcomeDialog.Title"}}</h1>\r\n            <p>{{localize "dungeons-lab-all-in-one.WelcomeDialog.Text"}}</p>\r\n            <p>\r\n                <b>{{localize "dungeons-lab-all-in-one.WelcomeDialog.Disclaimer"}}</b>\r\n                {{localize "dungeons-lab-all-in-one.WelcomeDialog.DisclaimerText"}}\r\n            </p>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},606:e=>{e.exports=JSON.parse('{"id":"dungeons-lab-all-in-one","title":"Dungeons LAB All-in-One","description":"An all-in-one module that includes a variety of quality of life improvements for Foundry VTT.","authors":[{"name":"Dungeons LAB","patreon":"https://www.patreon.com/DungeonsLAB/posts","url":"https://www.patreon.com/DungeonsLAB/posts?utm_source=waitlist"},{"name":"Alexander Muryshkin"}],"version":"1.0.8","compatibility":{"minimum":"11.302","verified":"12"},"bugs":"https://github.com/q-datum/foundry-all-in-one/issues","scripts":["./dungeons-lab-all-in-one.js"],"relationships":{"requires":[{"id":"midi-qol","type":"module"},{"id":"theripper-premium-hub","type":"module"},{"id":"smalltime","type":"module"},{"id":"monks-enhanced-journal","type":"module"},{"id":"monks-shops","type":"module"},{"id":"simbuls-cover-calculator","type":"module"},{"id":"lmrtfy","type":"module"},{"id":"midi-qol","type":"module"},{"id":"monks-active-tiles","type":"module"},{"id":"dice-calculator","type":"module"},{"id":"itemacro","type":"module"},{"id":"item-piles","type":"module"},{"id":"enhancedcombathud","type":"module"},{"id":"enhancedcombathud-dnd5e","type":"module"},{"id":"action-pack","type":"module"},{"id":"ActiveAuras","type":"module"},{"id":"ATL","type":"module"}]},"languages":[{"lang":"en","name":"English","path":"lang/en.json"},{"lang":"ru","name":"Russian","path":"lang/ru.json"},{"lang":"de","name":"German","path":"lang/de.json"}],"url":"https://dungeons-lab-wiki.vercel.app/","manifest":"https://github.com/q-datum/dungeons-lab/releases/download/all-in-one-latest/module.json","download":"https://github.com/q-datum/dungeons-lab/releases/download/all-in-one-latest/build.zip"}')}},t={};function i(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={id:n,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nc=void 0,(()=>{const e=i(894),t=i(126),n=i(478),o=i(192);Hooks.on("init",(()=>{(0,e.log)("initializing..."),(new o.SettingsMenu).registerAllSettings()})),Hooks.on("ready",(()=>{game.settings.get(n.MODULE_CONFIG.id,"alwaysShowWelcomeDialog")&&(new t.WelcomeDialog).render()}))})()})();